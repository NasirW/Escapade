<html>
	<title>The Great Escapade Play</title>
	<head>
		<script src="https://cdn.jsdelivr.net/gh/tuftsceeo/SPIKE-Web-Interface/cdn/ServiceDock.js" charset="utf-8"></script>
	  <script src="../src/secret.js" charset="utf-8"></script>
	  <script src="../src/cloud.js" charset="utf-8"></script>
	  <link rel="stylesheet" href="../src/style.css" />
      <script>
        
			// HERE IS THE CODE FOR DISPLAYING THE NAME
			function display_name() {
				// get name from the database
				var new_name = cloud_get('player_name');
				// show it in the HTML
				document.getElementById('display_name').innerHTML = new_name;
			}

			// HERE IS THE CODE FOR SAVING THE NAME
			function save_name() {
				// get the new name
				var new_name = document.getElementById('player_input').value;
				// update the cloud value
				cloud_update('player_name', new_name);
			}
			
			// HERE IS THE CODE FOR ONLOAD OF THE PAGE
			// - note: this happens after the connection to database is set up
			function onload_post() {
				// if cloud connection is active, then display the name
				// else wait 100ms and try again...
				if (cloud_connection.isActive()) { display_name(); }
				else { setTimeout(onload_post, 100); }
			}
		
    </script>
	</head>
    
<body class=b2>

	<!-- SERVICE DOCK -->
	<div id="servicedock">
		<service-airtable id="service_airtable" tablename="myProject"></service-airtable>
	</div>

  <h1 class='header'> <span id='display_name'></span>'s Great Escapade!!!</h1>
 <!-- <p class = "paragraph">Oh no, you're stuck in a Maze, , <span id='display_name'></span>!</p> -->


    <p class='paragraph' >Use the buttons below to control the robot and find an escapeâ€¦</p>

    

	<!-- CREATE YOUR PROJECT HERE -->
    <table style="padding: 10px;" align='center'>
    <tr><td></td><td align="center"><button cloud_action="update" cloud_name='up' class="buttontb"><img class="center" src="../img/noun-up-688138.png"></button></td><td></td></tr>
    <tr>
      <td align="center"><button cloud_action='update' cloud_name='counterclockwise' class="buttonrl"><img class="center" src="../img/noun-rotate-left-4412924.png"></button></td>
      <td align="center"></td>
      <td align="center"><button cloud_action='update' cloud_name='clockwise' class="buttonrl"><img class="center" src="../img/noun-rotate-right-4412924.png"></button></td>
    </tr>
    <tr><td></td><td align="center"><button cloud_action='update' cloud_name='down' class="buttontb"><img class="center" src="../img/noun-down-688138.png"></button></td><td></td></tr>
  </table>
	

</body>
</html>
